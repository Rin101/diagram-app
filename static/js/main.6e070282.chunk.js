(this["webpackJsonpdiagram-app-v2"]=this["webpackJsonpdiagram-app-v2"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(9),c=n(12),o=n(11),s=n(1),i=n.n(s),u=n(10),l=n.n(u),d=(n(17),n(5)),j=n(2),m=n(6),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b={standard:["E","A","D","G","B","E"],"half-step-down":["D#","G#","C#","F#","A#","D#"],"drop-D":["D","A","D","G","B","E"],dadgad:["D","A","D","G","A","D"]},g={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],majorPentatonic:[0,2,4,7,9],minorPentatonic:[0,3,5,7,10],harmonicMinor:[0,2,3,5,7,8,11],harmonicMajor:[0,2,4,5,7,8,11]};function h(e,t){var n,r=[],a=f.indexOf(t),c=Object(m.a)(g[e]),o=Object(j.a)(c);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(f[a+s])}}catch(i){o.e(i)}finally{o.f()}return r}var O=function(e){for(var t=[],n=f.indexOf(e),r=0;r<12;r++)t.push(f[n+r]);var a,c=[].concat(t),o=Object(j.a)(c);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(s)}}catch(i){o.e(i)}finally{o.f()}return t},v=function(e,t,n){var r,a=[],c=Object(j.a)(e);try{for(c.s();!(r=c.n()).done;){var o,s=r.value,i=[],u=Object(j.a)(s);try{for(u.s();!(o=u.n()).done;){var l=o.value;l===n?i.push([l,"root"]):t.includes(l)?i.push([l,"normal"]):i.push([l,"none"])}}catch(d){u.e(d)}finally{u.f()}a.push(i)}}catch(d){c.e(d)}finally{c.f()}return{diagram:a.reverse(),root:n}},p=(n(18),n(0));function x(e){var t=Object(s.useRef)();Object(s.useEffect)((function(){var n=t.current.querySelector(".note");switch(e.note[1]){case"none":n.className="note note-none";break;case"normal":n.className="note note-normal";break;case"root":n.className="note note-root";break;default:n.className="note note-none"}0===e.stringNum?(t.current.querySelector(".note-right-border").style.top="50%",t.current.querySelector(".note-left-border").style.top="50%"):5===e.stringNum&&(t.current.querySelector(".note-right-border").style.top="-50%",t.current.querySelector(".note-left-border").style.top="-50%"),1===e.noteNum?(t.current.style.width="48px",t.current.querySelector(".note-left-border").style.width="10px"):0===e.noteNum&&(t.current.querySelector(".note-right-border").style.display="none",t.current.querySelector(".note-left-border").style.display="none",n.style.height="13px",n.style.width="13px")}));return Object(p.jsxs)("div",{ref:t,className:"note-box",onClick:function(){return function(){var t=Object(m.a)(e.diagram),n=t[e.stringNum][e.noteNum];switch(n[1]){case"none":n[1]===e.root?n[1]="root":n[1]="normal";break;default:n[1]="none"}e.setDiagram(t),console.log(n)}()},children:[Object(p.jsx)("div",{className:"note"}),Object(p.jsx)("div",{className:"note-right-border"}),Object(p.jsx)("div",{className:"note-left-border"})]})}var y=function(e){return Object(p.jsxs)("div",{className:"string-container",children:[function(){for(var t=[],n=0;n<e.notes.length;n++){var r=e.notes[n],a=r+n+e.stringNum;t.push(Object(p.jsx)(x,{diagram:e.diagram,setDiagram:e.setDiagram,root:e.root,note:r,stringNum:e.stringNum,noteNum:n},a))}return t}(),Object(p.jsx)("div",{className:"string"})]})},N=function(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){t.current.style.left=86+38*(e.num-1)-19+"px"})),Object(p.jsx)("p",{className:"fretNum",ref:t,children:e.num})},D=function(){return Object(p.jsx)("div",{className:"fret-numbers",children:[3,5,7,9,12,15,17,19,21,23].map((function(e){return Object(p.jsx)(N,{num:e},e)}))})},S=function(e){var t=e.diagramObj.diagram,n=e.diagramObj.root,r=function(){var r,a=[],c=Object(j.a)(t);try{for(c.s();!(r=c.n()).done;){var o=r.value,s=t.indexOf(o);a.push(Object(p.jsx)(y,{diagram:t,setDiagram:e.setDiagram,root:n,notes:o,stringNum:s},s))}}catch(i){c.e(i)}finally{c.f()}return console.log("diagram",t),a};return Object(p.jsxs)("div",{className:"diagram",children:[Object(p.jsx)(r,{}),Object(p.jsx)(D,{})]})},M=(n(20),function(e){var t=Object(s.useRef)(),n=Object(s.useRef)();Object(s.useEffect)((function(){}),[n]);var r=function(){n.current.classList.remove("showing"),console.log("asdfghgdfdds",n.current.style.display),n.current.style.display="none",console.log("kjdkjsodxj",n.current),console.log("asdfghgdfdds",n.current.style.display)};return Object(p.jsxs)("div",{className:"select-menu select-tuning",ref:t,onClick:function(){n.current.classList.contains("showing")?r():(n.current.classList.add("showing"),n.current.style.display="block")},children:[Object(p.jsxs)("p",{className:"label",children:[e.title,": "]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:"current-item",children:[e.currentValue," ",Object(p.jsx)("i",{className:"fas fa-caret-down"})]}),Object(p.jsx)("div",{className:"selector-items",ref:n,children:e.mapSelectors(e.items,e.setItem,e.changeDiagram,r)})]})]})}),k=function(e){var t=Object(s.useRef)();return Object(p.jsx)("div",{className:"selector-item",ref:t,onClick:function(){return function(){var t=b[e.value];e.setTuning(t),e.changeDiagram(),e.hideMenu()}()},children:Object(p.jsx)("p",{children:e.title})})},w=function(e,t,n,r){return e.map((function(e){return Object(p.jsx)(k,{title:e[0],value:e[1],setTuning:t,changeDiagram:n,hideMenu:r},e)}))},A=function(e){var t=Object(s.useRef)();return Object(p.jsx)("div",{className:"selector-item",ref:t,onClick:function(){return e.setScale(e.value),e.changeDiagram(),void e.hideMenu()},children:Object(p.jsx)("p",{children:e.title})})},C=function(e,t,n){return e.map((function(e){return Object(p.jsx)(A,{title:e[0],value:e[1],setScale:t,hideMenu:n},e)}))},R=function(e){var t=Object(s.useRef)();return Object(p.jsx)("div",{className:"selector-item",ref:t,onClick:function(){return e.setRoot(e.value),e.changeDiagram(),void e.hideMenu()},children:Object(p.jsx)("p",{children:e.title})})},E=function(e,t,n){return e.map((function(e){return Object(p.jsx)(R,{title:e,value:e,setRoot:t,hideMenu:n},e)}))};function G(e){var t=e.tuning,n=e.setTuning,r=e.selectedNotes.scaleName,a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.root;e.setSelectedNotes({notes:h(t,n),scaleName:t})},c=e.root;return Object(p.jsxs)("div",{className:"settings",children:[Object(p.jsx)(M,{changeDiagram:e.changeDiagram,title:"Tuning",currentValue:t,items:[["standard","standard"],["half step down","half-step-down"],["drop D","drop-D"],["DADGAD","dadgad"],["custom","custom"]],setItem:n,mapSelectors:w}),Object(p.jsx)(M,{changeDiagram:e.changeDiagram,title:"Scale",currentValue:r,items:[["Minor Pentatonic","minorPentatonic"],["Major Pentatonic","majorPentatonic"],["Minor","minor"],["Major","major"],["Harmonic Minor","harmonicMinor"],["Harmonic Major","harmonicMajor"]],setItem:a,mapSelectors:C}),Object(p.jsx)(M,{changeDiagram:e.changeDiagram,title:"Root",currentValue:c,items:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],setItem:function(t){e.setRoot(t),"custom"!==r&&a(r,t)},mapSelectors:E})]})}function q(){var e=Object(s.useState)(b.standard),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)("E"),c=Object(d.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)({notes:h("minorPentatonic",o),scaleName:"minorPentatonic"}),l=Object(d.a)(u,2),m=l[0],f=l[1],g=function(e){var t,n=[],r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(O(a))}}catch(c){r.e(c)}finally{r.f()}return n}(n),x=Object(s.useState)(v(g,m.notes,o)),y=Object(d.a)(x,2),N=y[0],D=y[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(G,{selectedNotes:m,setSelectedNotes:f,root:o,setRoot:i,tuning:n,setTuning:r,changeDiagram:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.notes,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;D(v(e,t,n))}}),Object(p.jsx)(S,{diagramObj:N,setDiagram:function(e){D({diagram:e,root:o})}})]})}var P=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"app",children:Object(p.jsx)(q,{})})}}]),n}(i.a.Component);l.a.render(Object(p.jsx)(P,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6e070282.chunk.js.map